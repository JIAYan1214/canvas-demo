<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>贝塞尔曲线</title>
</head>
<body>
<canvas id="canvas" style="border:1px solid #aaa;display:block;margin:50px auto;">
    当前浏览器不支持Canvas，请更换浏览器后再试
</canvas>

<script>
    var space = 10;
    var marginLeft = 30,marginTop = 30,radius = 45,distance = 5;
    window.onload = function(){
        var canvas = document.getElementById("canvas");

        canvas.width = 800;
        canvas.height = 800;

        var context = canvas.getContext('2d');
        //第一步固定坐标画月亮
        /*context.arc(400,400,300,Math.PI/2,3*Math.PI/2,true);//月亮外围半圆
        context.moveTo(400,100);
        context.arcTo(1200,400,400,700,(400-100)*dis(400,100,1200,400)/(1200-400));
        context.stroke();*/

        //改进
        //第二次：以（0，0）为圆心，1为半径画外围的圆
        fillMoon(context,2,200,200,150,0);
    }
    //第二次
    function fillMoon(ctx,d,x,y,R,rotate,/*option*/fillColor) {
        ctx.save();

        ctx.translate(x,y);
        ctx.rotate(rotate*Math.PI/180);//弧度=radians=(Math.PI/180)*旋转角度
        ctx.scale(R,R);

        pathMoon(ctx,d);

        ctx.fillStyle = fillColor || '#fb5';
        ctx.fill();

        ctx.restore();
    }
    function pathMoon(ctx,d) {
        ctx.beginPath();
        ctx.arc(0,0,1,Math.PI/2,Math.PI*3/2,true);
        ctx.moveTo(0,-1);
        //ctx.arcTo(d,0,0,1,dis(0,-1,d,0)/d);
        //贝塞尔曲线
        ctx.quadraticCurveTo(1.2,0,0,1);//(x1,y1)控制点（x2,y2）结束点
        ctx.closePath();
    }

    //第一步固定坐标画月亮
    function dis(x1,y1,x2,y2) {
        return Math.sqrt((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2));
    }

</script>
</body>
</html>